@using Microsoft.AspNetCore.Identity
@model MindClinic.Models.User
@inject SignInManager<User> signInManager;


<div class="content">
    <div class="container">

        <!-- Doctor Widget -->
        <div class="card">
            <div class="card-body">
                <div class="doctor-widget">
                    <div class="doc-info-left">
                        <div class="doctor-img">
                            <img src="~/Doctorsimage/@(Model.image?? "Default.jpg")" class="img-fluid" alt="User Image">
                        </div>
                        <div hidden>
                            <input id="doctorId" value="@Model.Id" />
                        </div>
                        <div class="doc-info-cont">
                            <h4 class="doc-name">@Model.Name</h4>
                            <p class="doc-speciality">BDS, MDS - Oral & Maxillofacial Surgery</p>
                            @*<p class="doc-department"><img src="assets/img/specialities/specialities-05.png" class="img-fluid" alt="Speciality">Dentist</p>*@
                            <div class="rating">
                                <i class="fas fa-star filled"></i>
                                <i class="fas fa-star filled"></i>
                                <i class="fas fa-star filled"></i>
                                <i class="fas fa-star filled"></i>
                                <i class="fas fa-star"></i>
                                <span class="d-inline-block average-rating">(35)</span>
                            </div>
                            @*<div class="clinic-details">
                                <p class="doc-location"><i class="fas fa-map-marker-alt"></i> Newyork, USA - <a href="javascript:void(0);">Get Directions</a></p>
                                <ul class="clinic-gallery">
                                <li>
                                <a href="assets/img/features/feature-01.jpg" data-fancybox="gallery">
                                <img src="assets/img/features/feature-01.jpg" alt="Feature">
                                </a>
                                </li>
                                <li>
                                <a href="assets/img/features/feature-02.jpg" data-fancybox="gallery">
                                <img src="assets/img/features/feature-02.jpg" alt="Feature Image">
                                </a>
                                </li>
                                <li>
                                <a href="assets/img/features/feature-03.jpg" data-fancybox="gallery">
                                <img src="assets/img/features/feature-03.jpg" alt="Feature">
                                </a>
                                </li>
                                <li>
                                <a href="assets/img/features/feature-04.jpg" data-fancybox="gallery">
                                <img src="assets/img/features/feature-04.jpg" alt="Feature">
                                </a>
                                </li>
                                </ul>
                                </div>*@
                            <div class="clinic-services">
                                <span>Dental Fillings</span>
                                <span>Teeth Whitneing</span>
                            </div>
                        </div>
                    </div>
                    <div class="doc-info-right ">

                        <div class="clini-infos row">
                            <p> $
                            <p id="price"></p><small><muted>\</muted></small>Hour</p>

                        </div>
                        @*<div class="doctor-action">
                            <a href="javascript:void(0)" class="btn btn-white fav-btn">
                            <i class="far fa-bookmark"></i>
                            </a>
                            <a href="chat.html" class="btn btn-white msg-btn">
                            <i class="far fa-comment-alt"></i>
                            </a>
                            <a href="javascript:void(0)" class="btn btn-white call-btn" data-toggle="modal" data-target="#voice_call">
                            <i class="fas fa-phone"></i>
                            </a>
                            <a href="javascript:void(0)" class="btn btn-white call-btn" data-toggle="modal" data-target="#video_call">
                            <i class="fas fa-video"></i>
                            </a>
                            </div>*@
                        @if (!User.IsInRole("DOCTOR"))
                        {
                            <div class="clinic-booking">
                                <a class="apt-btn" asp-action="getslots" asp-controller="Appointments" asp-route-id="@Model.Id">Book Appointment</a>
                            </div>
                        }
                    </div>
                </div>
            </div>
        </div>
        <!-- /Doctor Widget -->
        <!-- Doctor Details Tab -->
        <div class="card">
            <div class="card-body pt-0">

                <!-- Tab Menu -->
                <nav class="user-tabs mb-4">
                    <ul class="nav nav-tabs nav-tabs-bottom nav-justified">
                        <li class="nav-item">
                            <a id="btnOverView" class="nav-link active" data-toggle="tab">Overview</a>
                        </li>
                        @*<li class="nav-item">
                            <a class="nav-link" href="#doc_locations" data-toggle="tab">Locations</a>
                            </li>*@
                        <li class="nav-item">
                            <a id="btnReview" class="nav-link" data-toggle="tab">Reviews</a>
                        </li>
                        

                        @*<li class="nav-item">
                            <a class="nav-link" href="#doc_business_hours" data-toggle="tab">Business Hours</a>
                            </li>*@
                    </ul>
                </nav>
                <!-- /Tab Menu -->
                <div id="review" class="tab-content pt-0">

                    <div class="table-action">
                        
                        <div class="text-right">
                            <a class="btn btn-sm bg-success-light " data-toggle="modal" href="#Cancel_Appointment">
                                <i class="fas fa-plus"></i>Comment

                            </a>

                        </div>
                        <div class="modal fade" id="Cancel_Appointment" aria-hidden="true" role="dialog">
                            <div class="modal-dialog modal-dialog-centered" role="document">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title">Reviews</h5>
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                            <span aria-hidden="true">×</span>
                                        </button>
                                    </div>
                                    <div class="modal-body">
                                        <div class="row form-row">
                                        </div>

                                        <form method="post">
                                            <div style="padding-left: 10px;" class="row form-row">

                                                <div class="form-group row">
                                                    <div class="form-group">
                                                        <label for="exampleFormControlTextarea1"></label>
                                                        <textarea placeholder="Write Your Comment Here:" class="form-control" id="txt" name="txt" rows="10" cols="60"></textarea>
                                                    </div>
                                                </div>
                                                

                                                <div class="form-group">
                                                    <label  >Private</label>
                                                    <input required type="radio" id="Private" name="Privacy" value="Private" />
                                                    <label >Public</label>
                                                    <input required type="radio" id="Public" name="Privacy" value="Public" />
                                                </div>


                                            </div>
                                            <button type="submit" class="btn btn btn-success btn-block" asp-controller="DoctorClasses" asp-action="CreateReview" asp-route-id="@Model.Id" method="post">Done</button>
                                        </form>


                                    </div>
                                </div>
                            </div>
                        </div>



                    </div>

                </div>
                <!-- Tab Content -->
                <div id="overView" class="tab-content pt-0">

                    <!-- Overview Content -->
                    <div role="tabpanel" id="doc_overview" class="tab-pane fade show active">
                        <div class="row">
                            <div class="col-md-12 col-lg-9">

                                <!-- About Details -->
                                <div class="widget about-widget">
                                    <h4 class="widget-title">About Me</h4>
                                    <p id="aboutme"></p>
                                </div>
                                <!-- /About Details -->
                                <!-- Education Details -->
                                <div id="education" class="widget education-widget">
                                    <!--   <h4 class="widget-title">Education</h4>
                                        <div class="experience-box">
                                            <ul class="experience-list">
                                                <li>
                                                    <div class="experience-user">
                                                        <div class="before-circle"></div>
                                                    </div>
                                                    <div class="experience-content">
                                                        <div class="timeline-content">
                                                            <a href="#/" class="name">American Dental Medical University</a>
                                                            <div>BDS</div>
                                                            <span class="time">1998 - 2003</span>
                                                        </div>
                                                    </div>
                                                </li>
                                                <li>
                                                    <div class="experience-user">
                                                        <div class="before-circle"></div>
                                                    </div>
                                                    <div class="experience-content">
                                                        <div class="timeline-content">
                                                            <a href="#/" class="name">American Dental Medical University</a>
                                                            <div>MDS</div>
                                                            <span class="time">2003 - 2005</span>
                                                        </div>
                                                    </div>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>-->
                                </div>
                                <!-- /Education Details -->
                                <!-- Experience Details -->
                                @*<div class="widget experience-widget">
                                    <h4 class="widget-title">Work & Experience</h4>
                                    <div class="experience-box">
                                    <ul class="experience-list">
                                    <li>
                                    <div class="experience-user">
                                    <div class="before-circle"></div>
                                    </div>
                                    <div class="experience-content">
                                    <div class="timeline-content">
                                    <a href="#/" class="name">Glowing Smiles Family Dental Clinic</a>
                                    <span class="time">2010 - Present (5 years)</span>
                                    </div>
                                    </div>
                                    </li>
                                    <li>
                                    <div class="experience-user">
                                    <div class="before-circle"></div>
                                    </div>
                                    <div class="experience-content">
                                    <div class="timeline-content">
                                    <a href="#/" class="name">Comfort Care Dental Clinic</a>
                                    <span class="time">2007 - 2010 (3 years)</span>
                                    </div>
                                    </div>
                                    </li>
                                    <li>
                                    <div class="experience-user">
                                    <div class="before-circle"></div>
                                    </div>
                                    <div class="experience-content">
                                    <div class="timeline-content">
                                    <a href="#/" class="name">Dream Smile Dental Practice</a>
                                    <span class="time">2005 - 2007 (2 years)</span>
                                    </div>
                                    </div>
                                    </li>
                                    </ul>
                                    </div>*@
                                <div id="awards" class="widget awards-widget">
                                    @*<h4 class="widget-title">Awards</h4>
                                        <div class="experience-box">
                                        <ul class="experience-list">
                                        <li>
                                        <div class="experience-user">
                                        <div class="before-circle"></div>
                                        </div>
                                        <div class="experience-content">
                                        <div class="timeline-content">
                                        <p class="exp-year">July 2019</p>
                                        <h4 class="exp-title">Humanitarian Award</h4>
                                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin a ipsum tellus. Interdum et malesuada fames ac ante ipsum primis in faucibus.</p>
                                        </div>
                                        </div>
                                        </li>
                                        <li>
                                        <div class="experience-user">
                                        <div class="before-circle"></div>
                                        </div>
                                        <div class="experience-content">
                                        <div class="timeline-content">
                                        <p class="exp-year">March 2011</p>
                                        <h4 class="exp-title">Certificate for International Volunteer Service</h4>
                                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin a ipsum tellus. Interdum et malesuada fames ac ante ipsum primis in faucibus.</p>
                                        </div>
                                        </div>
                                        </li>
                                        <li>
                                        <div class="experience-user">
                                        <div class="before-circle"></div>
                                        </div>
                                        <div class="experience-content">
                                        <div class="timeline-content">
                                        <p class="exp-year">May 2008</p>
                                        <h4 class="exp-title">The Dental Professional of The Year Award</h4>
                                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin a ipsum tellus. Interdum et malesuada fames ac ante ipsum primis in faucibus.</p>
                                        </div>
                                        </div>
                                        </li>
                                        </ul>
                                        </div>*@
                                </div>
                            </div>
                            <!-- /Experience Details -->
                            <!-- Awards Details -->

                        </div>
                    </div>
                </div>
            </div>
        </div>
        <script>
            $(document).ready(function () {
                $("review").hide();

                var id = $("#doctorId").val();
                $.ajax({
                    method: 'GET',
                    url: '/DoctorClasses/getPrice?id='+id,
                    success: function (response) {
                        $("#price").html(response);

                    }
                });

                $.ajax({
                    method: 'GET',
                    url: '/DoctorClasses/getAboutMe?id='+id,
                    success: function (response) {
                        $("#aboutme").html(response);

                    }
                });

                $.ajax({
                    method: 'GET',
                    url: '/DoctorClasses/getEducation?id=' + id,
                    success: function (response) {
                        $("#education").html(response);

                    }
                });

                $.ajax({
                    method: 'GET',
                    url: '/DoctorClasses/getAwards?id=' + id,
                    success: function (response) {
                        $("#awards").html(response);

                    }
                });


                $.ajax({
                    method: 'GET',
                    url: '/DoctorClasses/Reviews?id=' + id,
                    success: function (response) {
                        $("#review").append(response);

                    }
                });

                $("#btnReview").click(function () {
                    $("#overView").hide();
                    $("#review").show();
                });
                $("#btnOverView").click(function () {
                   $("#review").hide();
                    $("#overView").show();
                });
            });






        </script>
